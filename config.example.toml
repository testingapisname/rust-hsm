# rust-hsm Configuration File Example
#
# This file shows all available configuration options for rust-hsm-cli.
# Copy this file to one of these locations:
#   - .rust-hsm.toml (current directory)
#   - rust-hsm.toml (current directory)
#   - ~/.config/rust-hsm/config.toml (user config)
#   - ~/.rust-hsm.toml (user home)
#   - /app/.rust-hsm.toml (container default)
#
# Or specify a custom config file with: --config /path/to/config.toml

# Default token label to use when --label is not specified on the command line.
# This is useful to avoid typing --label DEV_TOKEN on every command.
#
# Example:
#   default_token_label = "DEV_TOKEN"
#
# Without this set, you must always use --label:
#   rust-hsm-cli gen-keypair --label DEV_TOKEN --user-pin 123456 ...
#
# With this set, --label becomes optional:
#   rust-hsm-cli gen-keypair --user-pin 123456 ...
#
default_token_label = "DEV_TOKEN"

# Path to the PKCS#11 module to use.
# This allows switching between different HSM providers.
#
# Options:
#   - SoftHSM2 (default): /usr/lib/softhsm/libsofthsm2.so
#   - Kryoptic: /usr/lib/kryoptic/libkryoptic_pkcs11.so
#
# Can be overridden by PKCS11_MODULE environment variable.
#
pkcs11_module = "/usr/lib/softhsm/libsofthsm2.so"

# PKCS#11 Observability Settings
# Enable structured logging of all PKCS#11 operations for debugging and monitoring.
#
# observe_enabled = true
# observe_log_file = "/app/observe.jsonl"
#
# With this set, --label becomes optional:
#   rust-hsm-cli gen-keypair --user-pin 123456 ...
#
default_token_label = "test-token"

# PKCS#11 module path (defaults to SoftHSM2 location if not specified)
# Change this to switch between different HSM providers
#
# Available options in the Docker container:
#   - SoftHSM2:  /usr/lib/softhsm/libsofthsm2.so
#   - Kryoptic:  /usr/lib/kryoptic/libkryoptic_pkcs11.so
#
# Other common values:
#   - macOS SoftHSM2: /usr/local/lib/softhsm/libsofthsm2.so
#   - Hardware HSM: /path/to/your/pkcs11module.so
#
# Note: The PKCS11_MODULE environment variable takes precedence over this setting
#
# Use SoftHSM2 (default):
#pkcs11_module = "/usr/lib/softhsm/libsofthsm2.so"

# Or use Kryoptic (uncomment to switch):
pkcs11_module = "/usr/lib/kryoptic/libkryoptic_pkcs11.so"
